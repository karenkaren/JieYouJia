//
//  MessageCodeController.m
//  LingTouNiaoZF
//
//  Created by LiuFeifei on 16/12/5.
//  Copyright © 2016年 LiuJie. All rights reserved.
//

#import "MessageCodeController.h"
#import "CaptchaView.h"
#import "LoginFooterView.h"
#import "TableViewDevider.h"
#import "BoundSuccessController.h"
#import "BoundFailureController.h"

@interface MessageCodeController ()

@end

@implementation MessageCodeController

- (void)viewDidLoad {
    [super viewDidLoad];
    self.title = @"填写短信验证码";
    [self buildUI];
}

- (void)buildUI
{
    UIView * headerView = [TableViewDevider getViewWithHeight:40 margin:kCommonMargin showTopLine:NO showBottomLine:YES title:[NSString stringWithFormat:@"请输入手机号%@收到的短信验证码", esString(self.params[@"kBankPhoneNo"])]];
    [self.view addSubview:headerView];
    
    CaptchaView * captchaView = [[CaptchaView alloc] initWithMessageCode:YES];
    captchaView.frame = CGRectMake(kCommonMargin, headerView.bottom, self.view.width - 2 * kCommonMargin, kAdaptiveBaseIphone6(45));
    [self.view addSubview:captchaView];
    
    UIButton * submitButton = [UIButton createMiddleBGButtonWithTitle:@"下一步" actionBolck:^(UIButton *button) {
        [self submitClick:button];
    }];
    [self.view addSubview:submitButton];
    [submitButton mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.equalTo(captchaView.mas_bottom).offset(kAdaptiveBaseIphone6(25));
        make.left.equalTo(@(kCommonMargin));
    }];
}

- (void)submitClick:(UIButton *)button
{
//    BoundSuccessController * successController = [[BoundSuccessController alloc] init];
//    [self.navigationController pushViewController:successController animated:YES];
    BoundFailureController * failureController = [[BoundFailureController alloc] init];
    [self.navigationController pushViewController:failureController animated:YES];

}

@end
